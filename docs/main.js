!function(t){var s={};function i(e){if(s[e])return s[e].t;var h=s[e]={s:e,i:!1,t:{}};return t[e].call(h.t,h,h.t,i),h.i=!0,h.t}i.h=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{l:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},i.p=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.u)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{l:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)i.d(e,h,function(s){return t[s]}.bind(null,h));return e},i.n=function(t){var s=t&&t.u?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.m="",i(i.g=2)}([function(t,s,i){t.t=function(){return i(1)('!function(n){var t={};function r(f){if(t[f])return t[f].t;var e=t[f]={u:f,i:!1,t:{}};return n[f].call(e.t,e,e.t,r),e.i=!0,e.t}r.o=n,r.c=t,r.d=function(n,t,f){r.v(n,t)||Object.defineProperty(n,t,{l:!0,get:f})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"s",{value:!0})},r.h=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.s)return n;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{l:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)r.d(f,e,function(t){return n[t]}.bind(null,e));return f},r.n=function(n){var t=n&&n.s?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.v=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.M=0)}([function(n,t,r){"use strict";r.r(t);var f={j:[{u:[0,100,128,0,1,201,128,0,0,0,0,8,28,0,0,0,194,4,1,3,25,191,115,244,147,6,43,4],p:[5,1,2,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,7,7,7,7,7,7,7],c:[{n:[132,132,134,134,135,135,132,132,137,137,135,135,134,134,135,135,139,139,137,137,135,135,137,137,134,,133,,132,,131],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[132,132,134,134,135,135,132,132,137,137,135,135,134,134,135,135,139,139,137,137,135,135,137,137,139,139,135,135,134,134,130,130],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[],f:[]},{n:[159,,,,,,,,158,,,,,,,,157,,,,,,,,156,155,154,153,152,151,150,149],f:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[132,132,134,134,135,135,132,132,137,137,135,135,134,134,135,135,139,139,137,137,135,135,137,137,139,139,135,135,134,134,130,130],f:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[120,,,,,,,,132,,,,,,,,120,,,,,,,,108],f:[]},{n:[132,144,134,146,132,144,135,147,132,144,137,149,132,144,139,151,140,152,139,151,137,149,139,151,138,150,137,149,135,147,134,146],f:[]}]},{u:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,,1,3,1,3,1,3,2,,,,1,3,1,3,1,3,,,1,3,1,3,1,3],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],f:[]},{n:[147],f:[]},{n:[147,,,,,,147,,,,147,,,,147,,147,,,,,,147,,,,147,,,,147,147],f:[]}]},{u:[0,0,140,0,0,0,140,0,0,60,4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,,147,,,147,,147,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{u:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,93,22,56,148,5,85,8],p:[3,,2,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[120],f:[]},{n:[120],f:[]},{n:[120],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{u:[3,0,127,0,3,68,127,0,1,218,11,0,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,2,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],f:[]},{n:[,,,,147,,,,,,147,,147,,,,,,,,147,,,,,,,,147],f:[]},{n:[147],f:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],f:[]}]},{u:[3,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,51,4],p:[,,,,1,2,1,2,1,2,,,1,2,3,2,1,2,,,,,5,4,5,4],c:[{n:[156,,,164,,,163,,161,,,,,,,,,,158,,159,,161,,159,,158,,159,,154,,159],f:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[144,,,147,,,149,,151,,,,,,,,,,149,,151,,152,,151,,151,,147,,147,,139],f:[]},{n:[156,,,156,,,156,,154,,,154,,,154,,152,,,152,,,152,,151,,,147,,,146,,,,151,,,151,,151,,,146,,,146,,146,,,144,,,144,,144,,,142,,,139,,137],f:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[163,,164,,166,,163,,163,,164,,166,,163,,163,,164,,166,,163,,163,,164,,166,,163],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[168,,170,,171,,168,,168,,170,,171,,168,,159,,159,,158,,158,,157,,157,,156,,156],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{u:[0,146,140,0,1,224,128,3,0,0,61,0,63,0,0,3,179,5,1,3,37,162,0,67,150,3,37,2],p:[,1,,,,,,,,,1,2,3,,1,2,1,2,3,,4,5],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,122,,121,,120,,119],f:[]},{n:[,,,,,,,,,,,,110,109,,,,,,,,,,,,,,,132,144,120,108],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],f:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[120,,,,,,120,,120,,,,,,,,,,,,,,,,,,,,,,,,123,,,,,,123,,123,,,,,,,,,,,,,,,,,,,,,,,,125,,,,,,125,,125],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[120,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,125],f:[]}]},{u:[2,138,116,0,2,138,128,4,0,0,47,48,107,124,3,0,139,4,1,3,64,160,3,32,147,4,121,5],p:[,,,,,,,,1,,,,,,,,,,1],c:[{n:[156,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,168],f:[]}]}],m:5513,O:32,A:25,g:8};let e=new function(){var n,t,r,f,e,u=function(n){return Math.sin(6.283184*n)},i=function(n){return.003959503758*Math.pow(2,(n-128)/12)},a=function(n,t,r){var f,e,u,a,c,v,l,s=o[n.u[0]],h=n.u[1],p=n.u[3],b=o[n.u[4]],M=n.u[5],y=n.u[8],j=n.u[9],d=n.u[10]*n.u[10]*4,m=n.u[11]*n.u[11]*4,w=n.u[12]*n.u[12]*4,O=1/w,A=n.u[13],g=r*Math.pow(2,2-n.u[14]),I=new Int32Array(d+m+w),S=0,L=0;for(f=0,e=0;d+m+w>f;f++,e++)0>e||(e-=g,v=i(t+(15&(A=A>>8|(255&A)<<4))+n.u[2]-128),l=i(t+(15&A)+n.u[6]-128)*(1+8e-4*n.u[7])),u=1,d>f?u=f/d:d+m>f||(u-=(f-d-m)*O),a=v,p&&(a*=u*u),c=s(S+=a)*h,a=l,y&&(a*=u*u),c+=b(L+=a)*M,j&&(c+=(2*Math.random()-1)*j),I[f]=80*c*u|0;return I},o=[u,function(n){return.5>n%1?1:-1},function(n){return n%1*2-1},function(n){var t=n%1*4;return 2>t?t-1:3-t}];this.init=function(u){n=u,r=0,f=u.m*u.O*((t=u.A)+1)*2,e=new Int32Array(f)},this.I=function(){var i,c,v,l,s,h,p,b,M,y,j,d,m,w,O=new Int32Array(f),A=n.j[r],g=n.m,I=n.O,S=0,L=0,_=!1,x=[];for(v=0;t>=v;++v)for(p=A.p[v],l=0;I>l;++l){var C=p?A.c[p-1].f[l]:0;C&&(A.u[C-1]=A.c[p-1].f[l+I]||0,16>C&&(x=[]));var D=o[A.u[15]],P=A.u[16]/512,U=Math.pow(2,A.u[17]-9)/g,k=A.u[18],q=A.u[19],z=135.82764118168*A.u[20]/44100,B=1-A.u[21]/255,E=1e-5*A.u[22],F=A.u[23]/32,G=A.u[24]/512,H=6.283184*Math.pow(2,A.u[25]-9)/g,J=A.u[26]/255,K=A.u[27]*g&-2;for(j=(v*I+l)*g,s=0;4>s;++s)if(h=p?A.c[p-1].n[l+s*I]:0){x[h]||(x[h]=a(A,h,g));var N=x[h];for(c=0,i=2*j;N.length>c;c++,i+=2)O[i]+=N[c]}for(c=0;g>c;c++)(y=O[b=2*(j+c)])||_?(d=z,k&&(d*=D(U*b)*P+.5),L+=(d=1.5*Math.sin(d))*(m=B*(y-L)-(S+=d*L)),y=3==q?L:1==q?m:S,E&&(y=1>(y*=E)?y>-1?u(.25*y):-1:1,y/=E),_=(y*=F)*y>1e-5,w=y*(1-(M=Math.sin(H*b)*G+.5)),y*=M):w=0,K>b||(w+=O[b-K+1]*J,y+=O[b-K]*J),O[b]=0|w,O[b+1]=0|y,e[b]+=0|w,e[b+1]+=0|y}return++r/n.g},this.S=function(){var n=44+2*f-8,t=n-36,r=new Uint8Array(44+2*f);r.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var u=0,i=44;f>u;++u){var a=e[u];r[i++]=255&(a=-32767>a?-32767:a>32767?32767:a),r[i++]=a>>8&255}return r},this.getData=function(n,t){for(var r=2*Math.floor(44100*n),f=Array(t),u=0;2*t>u;u+=1){var i=r+u;f[u]=n>0&&e.length>i?e[i]/32768:0}return f}};e.init(f),e.init(f);let u=!1;setInterval((function(){if(!u&&(u=e.I()>=1,u)){let n=e.S();postMessage(n)}}),10),t.default=e}]);',null)}},function(t){"use strict";var s=window.URL||window.webkitURL;t.t=function(t,i){try{try{var e;try{(e=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),e=e.getBlob()}catch(s){e=new Blob([t])}return new Worker(s.createObjectURL(e))}catch(s){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!i)throw Error("Inline worker is not supported");return new Worker(i)}}},function(t,s,i){"use strict";i.r(s);let e=null;class h{constructor(t){this.canvas=t,e=this.canvas.getContext("2d"),this.k=new class{constructor(){this.x=0,this.y=128,this.j=0,this.v=128,this.$=0,this._=0}q(t,s){return t-this.x+s/2}tt(t,s){return t-this.y+s/2}st(t){this.j=Math.round(Math.min(Math.max(10*t.it,this.j),(t.et-10)*t.it))}ht(t){this.v=Math.round(Math.min(Math.max(10*t.it,this.v),(t.ot-10)*t.it+15))}nt(t){t.x-this.j>10&&(this.j=t.x-10),-10>t.x-this.j&&(this.j=t.x+10),t.y-this.v>10&&(this.v=t.y-10),-10>t.y-this.v&&(this.v=t.y+10)}rt(t,s){this.$=s,this._=t}at(){if(this.$=Math.max(0,this.$-1),!this.$)return;const t=Math.random()*this._*2-this._,s=Math.random()*this._*2-this._;this.x+=t,this.y+=s}lt({ct:t,map:s}){this.nt(t,s),this.st(s),this.ht(s),this.x=this.j,this.y=this.v,this.at()}}}ut(t){e.save(),t(),e.restore()}ft(){e.clearRect(0,0,this.canvas.width,this.canvas.height)}dt(t,s){e.save();var i=e.createLinearGradient(20,0,220,0);i.addColorStop(0,t),i.addColorStop(1,s),e.rotate(Math.PI/2),e.translate(0,-this.canvas.height),e.fillStyle=i,e.fillRect(0,0,this.canvas.width,this.canvas.height),e.restore()}rect({rect:t,pt:s,wt:i,shadowBlur:h=0,shadowColor:o="none",lineWidth:n=1,yt:r=!0,rotation:a,size:l,Mt:c=!0}){c&&(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1])),r&&(t[0]=this.k.q(t[0],this.canvas.width),t[1]=this.k.tt(t[1],this.canvas.height)),a&&(e.translate(t[0]+l/2,t[1]+l/2),e.rotate(a),e.translate(-1*t[0]-l/2,-1*t[1]-l/2)),e.shadowBlur=h,e.shadowColor=o,s&&(e.fillStyle=s,e.fillRect(t[0],t[1],...t.slice(2))),i&&(e.strokeStyle=i,e.lineWidth=n,e.strokeRect(t[0],t[1],...t.slice(2))),e.shadowBlur=0}arc({arc:t,yt:s=!0,pt:i,wt:h,shadowBlur:o,shadowColor:n}){s&&(t[0]=this.k.q(t[0],this.canvas.width),t[1]=this.k.tt(t[1],this.canvas.height)),e.beginPath(),e.arc(...t),e.shadowBlur=o,e.shadowColor=n,i&&(e.fillStyle=i,e.fill()),h&&(e.strokeStyle=h,e.stroke()),e.shadowBlur=0}text({text:t,x:s,y:i,pt:h="#fff",size:n=1}){e.fillStyle=h;let r=0;t.toUpperCase().split("").map(t=>(o[t]||console.log(t),o[t])).forEach(t=>{let h=0,o=0;t.forEach(t=>{t.forEach((t,o)=>{t&&e.fillRect(r+o*n+s,h+i,n,n)}),o=Math.max(o,t.length*n),h+=n}),r+=n+o})}gt({gt:t,shadowBlur:s=0,shadowColor:i,pt:h,wt:o}){e.beginPath(),e.moveTo(t[0][0],t[0][1]),t.slice(1).map(t=>e.lineTo(t[0],t[1])),e.closePath(),e.shadowBlur=s,e.shadowColor=i,o&&(e.strokeStyle=o,e.stroke()),h&&(e.fillStyle=h,e.fill())}bt({bt:t,x:s,y:i,yt:h=!0}){h&&(s=this.k.q(s,this.canvas.width),i=this.k.tt(i,this.canvas.height)),e.font="4px serif",e.fillText(t,s,i)}Ct({x:t,y:s,size:i}){this.rect({rect:[t-i/2,s-i/2,i,i],color:"#f00"})}}const o={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]]," ":[[,,],[,,],[,,],[,,],[,,]],0:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],1:[[,1],[,1],[,1],[,1],[,1]],2:[[1,1,1],[0,0,1],[1,1,1],[1,0,0],[1,1,1]],3:[[1,1,1],[0,0,1],[1,1,1],[0,0,1],[1,1,1]],4:[[1,0,1],[1,0,1],[1,1,1],[0,0,1],[0,0,1]],5:[[1,1,1],[1,0,0],[1,1,1],[0,0,1],[1,1,1]],6:[[1,1,1],[1,0,0],[1,1,1],[1,0,1],[1,1,1]],7:[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1]],8:[[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1]],9:[[1,1,1],[1,0,1],[1,1,1],[0,0,1],[1,1,1]]};let n=document.getElementById("c");class r{constructor(){this.canvas=n}initialize(){let t=document.querySelector("body"),s=()=>{t.clientWidth/t.clientHeight>1?(n.style.height="100vh")&&(n.style.width="auto"):(n.style.height="auto")&&(n.style.width="100vw")};s(),t.onresize=s}}const a={volume:.3,sampleRate:44100,x:new(window.AudioContext||webkitAudioContext),play:function(...t){return this.kt(this.jt(...t))},kt:function(...t){const s=this.x.createBuffer(t.length,t[0].length,this.sampleRate),i=this.x.createBufferSource();return t.map((t,i)=>s.getChannelData(i).set(t)),i.buffer=s,i.connect(this.x.destination),i.start(),i},jt:function(t=1,s=.05,i=220,e=0,h=0,o=.1,n=0,r=1,a=0,l=0,c=0,u=0,f=0,d=0,p=0,w=0,y=0,m=1,M=0,g=0){const b=2*Math.PI;let C,k,j=this.sampleRate,x=a*=500*b/j/j,v=i*=(1+2*s*Math.random()-s)*b/j,A=[],O=0,S=0,F=0,P=1,z=0,I=0,E=0;for(l*=500*b/j**3,p*=b/j,c*=b/j,u*=j,f=f*j|0,k=(e=e*j+9)+(M*=j)+(h*=j)+(o*=j)+(y*=j)|0;k>F;A[F++]=E)++I%(100*w|0)||(E=n?n>1?n>2?n>3?Math.sin((O%b)**3):Math.max(Math.min(Math.tan(O),1),-1):1-(2*O/b%2+2)%2:1-4*Math.abs(Math.round(O/b)-O/b):Math.sin(O),E=(f?1-g+g*Math.sin(b*F/f):1)*(E>0?1:-1)*Math.abs(E)**r*t*this.volume*(e>F?F/e:e+M>F?1-(F-e)/M*(1-m):e+M+h>F?m:k-y>F?(k-F-y)/o*m:0),E=y?E/2+(y>F?0:(k-y>F?1:(k-F)/y)*A[F-y|0]/2):E),C=(i+=a+=l)*Math.cos(p*S++),O+=C-C*d*(1-1e9*(Math.sin(F)+1)%2),P&&++P>u&&(i+=c,v+=c,P=0),!f||++z%f||(i=v,a=x,P=P||1);return A},xt:function(t=0,s=440){return s*2**(t/12)}};let l={death:[2.45,,608,.02,.09,.38,2,1.24,.6,,,,,.3,,.4,.03,.51,.05],gun:[.4,0,0,,,0,4,0,500,,,,,,,.1,,0,.15],jump:[,,131,.02,.02,.08,,1.49,2.3,,,,,,,,,.9,.1],message:[2,0,1740,,.06,.29,,.77,,,,,,,,,,.76,.07,.06],minigun:[.6,0,0,,,0,4,0,1e8,,,,,,,.04,,0,.08],pickup:[,,548,.08,.36,.47,1,1.79,,,236,.03,.08,,,,,.83],shotgun:[.8,,300,,,.9,4,.5,,,,,,10,74,.2,,2],sniper:[.8,,300,,,1.2,4,.5,,,,,,10,74,.1,,2],thrown:[1,0,0,,,0,4,0,1e8,,,,,,,.055,,0,.3]};class c{constructor(){this.volume=1}play(t,s){const i=[...l[t]];s&&(i[0]*=s*this.volume),function(...t){a.play(...t)}(...i)}vt(t){this.volume=t}}class u{constructor({x:t,y:s,At:i,Ot:e,St:h}){this.x=t,this.y=s,this.dx=0,this.dy=0,this.At=i,this.Ot=e,this.St=h}}var f=class extends u{constructor(t,s,i,e,h){super({x:t,y:s,St:.1}),this.dx=i,this.dy=e,this.color=h,this.Ft=!1}Pt(){this.Ft=!0}lt(){this.Ft||(this.x+=this.dx,this.dy+=this.St,this.y+=this.dy)}ut(t){t.rect({pt:this.color,rect:[this.x,this.y,1,1]})}},d=class{constructor({x:t,y:s,zt:i},{color:e,speed:h,It:o=0,Et:n=0,Bt:r=0,St:a=0,Dt:l,Lt:c,Yt:u,Xt:f,size:d,bt:p},w){this.size=d||1,this.x=t-this.size/2,this.y=s,this.dx=i*h+(Math.random()-o/2)*o,this.dy=(Math.random()-n/2)*n-r,this.St=a,this.color=e,this.Yt=u||1,this.Gt=0,this.$t=!1,this.Kt=!1,this.Nt=null,this.Dt=l,this.Lt=c||1,this.Xt=f,this.bt=p,this.Rt=w}Ut(){this.Kt=!0,this.Nt=2}lt(){this.Gt+=1,this.Nt&&(this.Nt-=1,0===this.Nt&&(this.$t=!0)),this.Kt||(this.x+=this.dx,this.dy+=this.St,this.y+=this.dy)}ut(t){this.Kt?t.arc({arc:[this.x,this.y,2/this.Nt*this.Yt,0,2*Math.PI],pt:"#ff8",shadowBlur:10,shadowColor:"#ff0"}):this.bt?t.bt({x:this.x,y:this.y,bt:this.bt}):1===this.size?t.rect({pt:this.color(),rect:[this.x,this.y,this.size,this.size]}):t.arc({arc:[this.x,this.y,this.size,0,2*Math.PI],pt:this.color(),shadowBlur:this.size,shadowColor:"#ff0"})}},p=class{constructor({name:t,Wt:s,Tt:i=1,_t:e,Jt:h,rt:o,qt:n,Ht:r}){this.name=t,this.Wt=s,this.Tt=i,this._t=e,this.Jt=h,this.rt=o,this.qt=n,this.Ht=r,this.Vt=s,this.Qt=!1}lt(t,s,i,e,h,o,n){return this.Vt+=1,this.Qt=!1,this.Vt>this.Wt*this.Tt&&t?(this.Zt(s,i,n),h.play(this.qt,o),this.rt&&e.rt(this.rt.ts,this.rt.duration),this.Qt=!0,this.Jt):0}Zt(t,s,i){this.Vt=0;for(let e=0;this._t>e;e++){const e=new d(s,this.Ht,i);t.add(e)}}ut(t,s){this.Qt&&([[s.x+(1===s.zt?8:-1),s.y+3,1,1],[s.x+(1===s.zt?7:0),s.y+4,2,3]].forEach(([s,i,e,h])=>t.rect({pt:"yellow",rect:[s,i,e,h]})),[[s.x+(1===s.zt?8:-1),s.y+4,2,2],[s.x+(1===s.zt?10:-3),s.y+4,1,1]].forEach(([s,i,e,h])=>t.rect({pt:"white",rect:[s,i,e,h]})))}};const w={name:"Pistol",Wt:10,_t:1,Jt:0,qt:"gun",Ht:{color:()=>"#eee",speed:3,It:0,Et:.15,Dt:10,Xt:5}},y={name:"Minigun",Wt:2,_t:1,Jt:.2,rt:{ts:1,duration:2},qt:"minigun",Ht:{color:()=>"#fff",speed:4,It:1,Et:.3,Dt:2,Xt:5}},m={name:"Assault Rifle",Wt:8,_t:1,Jt:.1,qt:"gun",Ht:{color:()=>"#fff",speed:3,It:0,Et:.3,Dt:4,Xt:5}},M={name:"Shotgun",Wt:30,_t:12,Jt:1,rt:{ts:2,duration:8},qt:"shotgun",Ht:{color:()=>"yellow",speed:4,It:.7,Et:1,Dt:1,Xt:5}},g={name:"Super Shotgun",Wt:60,_t:24,Jt:2,rt:{ts:3,duration:8},qt:"shotgun",Ht:{color:()=>"yellow",speed:4,It:1,Et:1.5,Dt:1,Xt:5}},b={name:"sniper rifle",Wt:60,_t:1,Jt:2,rt:{ts:3,duration:8},qt:"sniper",Ht:{color:()=>"#eee",speed:6,It:0,Et:0,Dt:22,Xt:50}},C={name:"Grenade",Wt:40,_t:1,Jt:0,qt:"thrown",Ht:{bt:"💣",speed:3,Bt:1.5,St:.1,Yt:3,size:3,Dt:12,Xt:5}},k=[{prefix:"Rainbow",Ht:{color:()=>["#FF0000","#FFAC00","#FFF100","#0BFF00","#00F6FF"][Math.floor(6*Math.random())]}},{prefix:"Collosal",Tt:3,Ht:{color:()=>"yellow",Lt:3,Yt:5,size:5}},{prefix:"Shrimp",Ht:{bt:"🍤",Yt:3,size:3}},{prefix:"Bomb",Ht:{bt:"💣",Yt:3,size:3}}];var j=class{constructor(){}create(t){const s=Math.random()>.9?k[Math.floor(Math.random()*k.length)]:{Ht:{}},i={...t.Ht,...s.Ht},e={...t,...s,Ht:i,name:`${s.prefix?s.prefix+" ":""}${t.name}`};return new p(e)}random(){const t=[w,m,y,M,g,b,C],s=t[Math.floor(Math.random()*t.length)];return this.create(s)}};const x=(t,s)=>{const{x:i,y:e,dy:h,size:o}=t;if(0>h)return!1;const n=s.ss(i,e+o),r=s.ss(i+o-1,e+o);return!(!n&&!r||(t.dy=0,t.y=8*Math.floor(e/8),t.es=!0,t.hs=0,0))},v=(t,s,i)=>Math.min(Math.max(s,t),i);var A=class extends u{constructor(t,s,i,e,h){super({x:t,y:s,At:1,Ot:2,St:.15}),this.size=8,this.os=.05,this.ns=.8,this.rs=1,this.es=!0,this.zt=e||1,this.Gt=0,this.as=0,this.hs=0,this.ls=0,this.cs=2,this.us=12,this.fs=i,this.ds=i,this.ps=h||(new j).random()}static lt({k:t,map:s,ws:i,ys:e,ms:h,qt:o,volume:n}){this.Gt+=1;const{left:r,right:a,Ms:l,gs:c}=e;this.as=l?this.as+1:0;let u=0;if(this.ps&&(u=this.ps.lt(c,i,{x:this.x+(1===this.zt?this.size-1:1),y:this.y+5,zt:this.zt},t,o,n,this)),r?(this.dx-=this.os,this.zt=-1):a?(this.dx+=this.os,this.zt=1):this.dx*=this.es?this.ns:this.rs,.01>Math.abs(this.dx)&&(this.dx=0),this.dx=v(this.dx,-this.At,this.At),this.dx+=u*-this.zt,this.x+=h?0:this.dx,((t,s)=>{let{x:i,y:e,dx:h,size:o}=t;if(h>0){const h=s.ss(i+o,e),n=s.ss(i+o,e+o-1);(h||n)&&(t.dx=0,t.x=8*Math.floor(i/8))}else if(0>h){const h=s.ss(i,e),n=s.ss(i,e+o-1);(h||n)&&(t.dx=0,t.x=8*Math.floor(i/8)+8)}})(this,s),l){const t=this.es||5>this.hs,s=10>this.as;(this.ls>0||t&&s)&&(0===this.ls&&o.play("jump"),this.ls+=1,this.us>this.ls&&(this.dy=-this.cs))}else this.ls=0;this.dy+=this.St,this.dy=v(this.dy,-this.Ot,this.Ot),this.y+=this.dy,x(this,s)||(this.es=!1,this.hs+=1),((t,s)=>{const{x:i,y:e,size:h}=t,o=s.ss(i,e),n=s.ss(i+h-1,e);(o||n)&&(t.dy=0,t.y=8*Math.floor((e-h/2)/8)+8+h/2,t.ls=0)})(this,s)}static bs(t){this.fs-=t}};const O=(t,s)=>s.x+s.size>t.x&&t.x+t.size>s.x&&s.y+s.size>t.y&&t.y+t.size>s.y;class S{Cs(t,s,i){if(!t.Kt&&!s.Kt&&s.fs>0&&t.Rt!==s&&O(t,s)){t.Ut(),A.bs.call(s,t.Dt*t.Lt);for(let e=0;t.Xt>e;e++)i.add(new f(t.x,t.y,t.dx/3*Math.random()*2,-1.5*Math.random(),s.ks));return!0}return!1}js(t,s,i){O(t,s)&&("weapon"===t.type?s.ps=t.ps:(s.fs+=200,s.fs=Math.min(s.ds,s.fs)),i.xs=i.xs.filter(s=>s!==t))}}let F=[],P=[];function z(t,s){return(t%s+s)%s}class I{constructor({vs:t,ch:s}){for(let i=0;10>i;i++)F.push([Math.random()*t,Math.random()*s,Math.random()]);for(let i=0;10>i;i++)P.push([Math.random()*t,Math.random()*s,Math.random()])}ut(t){const[s,i]=this.As;t.ut(()=>{t.dt(s,i),F.map(s=>t.rect({rect:[z(s[0]-t.k.x/(3+3*s[2]),t.canvas.width),z(s[1]-t.k.y/(3+3*s[2]),t.canvas.height),1,1],pt:"rgba(255, 255, 255, 0.6)",yt:!1})),P.map(s=>t.rect({rect:[z(s[0]-t.k.x/(7+3*s[2]),t.canvas.width),z(s[1]-t.k.y/(7+3*s[2]),t.canvas.height),1,1],pt:"rgba(255, 255, 255, 0.3)",yt:!1})),[[100,30,1,10,"#440"],[30,50,1,4,"#311"]].forEach(s=>{t.arc({yt:!1,arc:[z(s[0]-t.k.x/(7+3*s[2]),t.canvas.width),z(s[1]-t.k.y/(7+3*s[2]),t.canvas.height),s[3],0,2*Math.PI],pt:s[4]})})})}}var E=i(0),B=new(i.n(E).a);let D=null;B.onmessage=t=>{let s=t.data;D=document.createElement("audio"),D.src=URL.createObjectURL(new Blob([s],{type:"audio/wav"})),D.volume=.7,D.loop=!0};class L{Os(){}Ss(){!function t(s){s.then(()=>{}).catch(()=>{setTimeout(()=>{let s=D.play();t(s)},1e3)})}(D.play())}}var Y=class extends u{constructor(t,s,i){super({x:t,y:s}),this.ps=i||(new j).random(),this.size=5,this.St=.04,this.dy=.4,this.Fs=!1,this.type=i||.66>Math.random()?"weapon":"health"}lt(){this.Fs||(this.dy+=this.St,this.y+=this.dy)}ut(t){"weapon"===this.type?(t.rect({pt:"#C3732A",rect:[this.x,this.y,5,5]}),[[0,1],[1,0],[2,0],[3,0],[4,1],[3,2],[2,2],[2,4]].forEach(([s,i])=>t.rect({pt:"yellow",rect:[this.x+s,this.y+i,1,1]}))):(t.rect({pt:"#FFF",rect:[this.x,this.y,5,5]}),[[1,2,3,1],[2,1,1,3]].forEach(([s,i,e,h])=>t.rect({pt:"red",rect:[this.x+s,this.y+i,e,h]})))}};const X=(t,s,i,e,h={})=>{const{Ps:o,zs:n,Is:r,Es:a,body:l}=e;let c=[];c=c.concat([[o,[1,3,5,3]],[a,[2,4,1,1]],[a,[5,4,1,1]]]),h.Bs||(c=c.concat([[l,[1,7,3,1]],[o,[1,7,1,1]],[o,[4,7,1,1]]])),n&&(c=c.concat([[n,[2,1,4,1]],[n,[1,2,6,1]]])),r&&(c=c.concat([[r,[1,2,1,1]],[r,[5,2,1,1]]]));const u=h.Ds?12:h.big?2:1;return c=c.map(([e,h])=>({c:e,r:[1===i?t+h[0]*u:8*u-(h[0]+h[2])*u+t,s+h[1]*u,h[2]*u,h[3]*u]})),c},G=t=>{t.Ls=!1,t.Ys=!0},$=t=>{t.Ls=!0,t.Ys=!1},K=t=>{t.Ls||t.Ys||(t.Ys=!0),16>t.x&&G(t),t.x>288&&$(t)},N=(t,s,i)=>{if(s.Xs>0)s.Xs-=1;else{const e=i.ss(s.x+24*s.zt,s.y-16);s.Xs=e&&Math.random()<t?30:0}},R=(t,s)=>{s.x-t.x>0?G(t):$(t)},U=({Gs:t,ct:s})=>20>Math.abs(s.y-t.y),W=({Gs:t,ct:s})=>[{left:t.x>s.x,right:s.x>t.x,Ms:!1,gs:30>Math.abs(t.x-s.x)},!0],T=([t,s,i,e])=>({Ps:t,Is:s,Es:i,body:e}),_=T(["#50c878","#50c878","#c00","#a00"]),J=T(["beige","beige","red","red"]),q=T(["#919","#919","#be0","#f58"]),H=T(["#4cc9f0","#4cc9f0","#f72585","#4361ee"]),V=T(["#dd0","#dd0","#09f","#a30"]),Q=T(["#a00","#a00","yellow","#a60"]);var Z={$s:{type:"sentinel",fs:22,Ks:W,As:_,ps:(new j).create(m)},Ns:{type:"pacifist",fs:22,Ks:({Gs:t,map:s})=>(K(t),N(.1,t,s),[{left:t.Ls,right:t.Ys,Ms:t.Xs>0},!1]),As:J},Rs:{type:"idiot",fs:22,Ks:({Gs:t})=>{let s;if(t.Gt%30==0){const t=.5>Math.random();s={left:t,right:!t,Ms:.5>Math.random(),gs:.7>Math.random()}}else s=null;return[s,!1]},As:q},Us:{type:"runAndGun",fs:22,Ks:({Gs:t,map:s,ct:i})=>{K(t),N(.1,t,s);const e=((t,s)=>(20>Math.abs(s.y-t.y)&&R(t,s),U({Gs:t,ct:s})))(t,i);return[{left:t.Ls,right:t.Ys,Ms:t.Xs>0,gs:e},!1]},As:H},Ws:{type:"aggro",fs:22,Ks:({Gs:t,ct:s,map:i})=>{R(t,s),((t,s,i)=>{t.y>s.y&&N(1,t,i)})(t,s,i);const e=U({Gs:t,ct:s});return[{left:t.Ls,right:t.Ys,Ms:t.Xs>0,gs:e},!1]},As:V},Ts:{type:"boss",fs:400,Ks:W,As:Q}};const tt=[{background:["#112","#131"],_s:["#114","#336","#003"]},{background:["#33f","#1f1"],_s:["#963","#c96","#620"]}],st={Js:1,qs:[40,0],Hs:_,Vs:[[230,100]],Qs:{$s:1}},it=[t=>({Js:3+Math.floor(t/6),qs:[40,150],Hs:_,Vs:[[45,10],[155,10],[265,10],[90,10],[220,30],[48,80],[130,80],[180,80],[260,80],[110,110],[205,110]],Qs:{$s:10+3*Math.floor(t/6)}}),t=>({Js:3+Math.floor(t/6),qs:[40,150],Hs:J,Vs:[[50,10],[100,10],[150,10],[200,10],[249,10]],Qs:{Ns:10+3*Math.floor(t/6)}}),t=>({Js:3+Math.floor(t/6),qs:[40,150],Hs:q,Vs:[[50,10],[100,10],[150,10],[200,10],[249,10]],Qs:{Rs:10+3*Math.floor(t/6)}}),t=>({Js:3+Math.floor(t/6),qs:[40,150],Hs:H,Vs:[[50,10],[100,10],[150,10],[200,10],[249,10]],Qs:{Us:10+3*Math.floor(t/6)}}),t=>({Js:3+Math.floor(t/6),qs:[40,150],Hs:V,Vs:[[50,10],[100,10],[150,10],[200,10],[249,10]],Qs:{Ws:10+3*Math.floor(t/6)}}),()=>({Js:1,qs:[20,156],Hs:Q,Vs:[[120,10]],Qs:{Ts:1}})],et=80,ht=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],ot=["ffffffffff","8000000001","8000000001","8000000001","8000000001","87007e00e1","8000000001","8000000001","f03c003c0f","8000000001","8000000001","8300c300c1","8000000001","8000000001","8fc07e03f1","8000000001","8000000001","e00f00f007","8000000001","8000000001","ffffffffff"].map(t=>parseInt(t,16).toString(2).split("").map(Number)),nt=[ot,ot,ot,ot,ot,[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]];class rt{constructor(){this.Zs=null,this.it=8,this.ti=[],this.ot=0,this.et=0}si(t,s){let i;i=1===t?ht:nt[(t-1)%6]||ot,this.ti=i,this.ot=i.length,this.et=i[0].length,this.ii=this.it*this.et,this.ei=this.it*this.ot,this.hi=s}ss(t,s){const i=this.ti[Math.floor(s/this.it)];return i?i[Math.floor(t/this.it)]:1}ut(t){const[s,i,e]=this.hi;this.Zs=this.Zs||t,this.ti.forEach((h,o)=>{h.forEach((h,n)=>{1===h&&(t.rect({pt:s,rect:[n*this.it+1,o*this.it+1,this.it-2,this.it-2]}),t.rect({pt:i,rect:[n*this.it+1,o*this.it,this.it-2,1]}),t.rect({pt:e,rect:[n*this.it+1,o*this.it+this.it-1,this.it-2,1]}),t.rect({pt:i,rect:[n*this.it,o*this.it+1,1,this.it-2]}),t.rect({pt:e,rect:[n*this.it+this.it-1,o*this.it+1,1,this.it-2]}))})})}}var at=class extends u{constructor(t,s,i,e,h){super({x:t,y:s}),this.dx=i,this.dy=e,this.St=.1,this.color=h,this.Ft=!1}Pt(){this.Ft=!0}lt(){this.Ft||(this.x+=this.dx,this.dy+=this.St,this.y+=this.dy)}ut(t){t.rect({pt:this.color,rect:[this.x,this.y-2,2,3]}),[[1,2],[2,3]].forEach(([s,i])=>{t.rect({pt:this.color,rect:[this.x+s-2,this.y+i-2,1,1]})}),[[2,0],[1,1],[0,2],[1,3]].forEach(([s,i])=>{t.rect({pt:"#FF77A8",rect:[this.x+s-2,this.y+i-2,1,1]})})}},lt=class extends A{constructor(t,s,i){super(t,s,i),this.ks="red",this.ps=null,this.oi=!1}lt({k:t,ni:s,map:i,ws:e,qt:h,ri:o,ai:n}){if(0>=this.fs&&!this.oi){for(let t=0;200>t;t++)o.add(new f(this.x,this.y,5*Math.random()-2.5,5*Math.random()-5,"red"));for(let t=0;10>t;t++)n.ai.push(new at(this.x,this.y-2,3*Math.random()-1.5,3*Math.random()-1.5,"red"));this.oi=!0}this.oi||A.lt.call(this,{k:t,map:i,ws:e,ys:{left:s.li(s.ci),right:s.li(s.ui),Ms:s.li(s.fi),gs:s.li(s.di)},qt:h,volume:1})}ut(t){this.oi||(X(this.x,this.y,this.zt,{Ps:"#FFCCAA",zs:"#FFA300",Es:"#008751",body:"#29ADFF"}).forEach(({c:s,r:i})=>t.rect({pt:s,rect:i})),this.ps&&this.ps.ut(t,{x:this.x,y:this.y,zt:this.zt}))}};const ct={color:()=>"yellow",speed:1.5,Bt:-.6,St:0,Et:.3,Yt:3,size:5,Dt:10,Xt:20},ut={Wt:15,_t:1,rt:{ts:1,duration:15},qt:"shotgun",Ht:ct},ft=Object.assign({},ut);ft.Ht=Object.assign({},ct),ft.Ht.Bt=.6;const dt=t=>{const s=Object.assign({},y.Ht);s.Bt=t;const i=Object.assign({},y);return i.Ht=s,i},pt=[{ps:new p(dt(.8)),y:25,x:40,pi:40,offset:70},{ps:new p(dt(.4)),y:28,x:40,pi:40,offset:60},{ps:new p(y),y:31,x:40,pi:40,offset:50},{ps:new p(dt(0)),y:33,x:40,pi:40,offset:40},{ps:new p(dt(-.4)),y:36,x:40,pi:40,offset:30},{ps:new p(dt(-.8)),y:39,x:40,pi:40,offset:20},{ps:new p(ut),y:30,x:28,pi:100,offset:200},{ps:new p(ft),y:10,x:28,pi:100,offset:200}],wt={Wt:15,_t:0,rt:{ts:4,duration:200},qt:"death",Ht:{color:()=>"yellow",speed:1.5,Bt:-.6,St:0,Et:.3,Yt:3,size:5,Dt:10,Xt:5}};var yt=class extends A{constructor(t,s,i,e,h){super(t,s,i,e,h),this.ks="#32CD32",this.size=56,this.dx=.2}lt({map:t,ws:s,k:i,qt:e,ct:h}){var o;if(this.Gt+=1,this.x+=this.zt*this.dx,this.x=Math.max(Math.min(this.x,160),105),this.dy+=this.St,this.dy=(o=this.Ot,Math.min(Math.max(-this.Ot,this.dy),o)),this.y+=this.dy,x(this,t)||(this.es=!1,this.hs+=1),this.Gt%200||(this.zt=h.x>this.x+this.size/2?1:-1),pt.forEach(({ps:t,x:h,y:o,pi:n,offset:r})=>{this.Gt>100&&t.lt(n>(this.Gt+r)%400,s,{x:this.x+h,y:this.y+o,zt:this.zt},i,e,.7,this)}),0>=this.fs){const t=!0,h={};new p(wt).lt(t,s,h,i,e,this)}}wi({ri:t,ai:s,qt:i}){i.play("death");for(let s=0;300>s;s++)t.add(new f(this.x+60*Math.random(),this.y+60*Math.random(),5*Math.random()-2.5,5*Math.random()-5,this.ks));for(let t=0;40>t;t++)s.ai.push(new at(this.x+60*Math.random(),this.y+60*Math.random(),3*Math.random()-1.5,3*Math.random()-1.5,this.ks))}ut(t){this.ds>this.fs&&t.rect({pt:"white",rect:[this.x-2,this.y-22,this.fs/this.ds*60,2]}),X(this.x-(1===this.zt?13:26),this.y-40,this.zt,Q,{Ds:!0}).forEach(({c:s,r:i})=>t.rect({pt:s,rect:i}))}},mt=class extends A{constructor(t,s,i,e,h,o,n){super(t,s,i,e,n),this.At=.8,this.As=h,this.ks="#32CD32",this.ys={left:!1,right:!1,Ms:!1,gs:!1},this.Ks=o}lt({k:t,map:s,ws:i,ct:e,qt:h}){const[o,n]=this.Ks({Gs:this,map:s,ct:e});o&&(this.ys=o),A.lt.call(this,{k:t,map:s,ws:i,ys:this.ys,qt:h,ms:n,volume:.7})}wi({ri:t,ai:s,qt:i}){i.play("death");for(let s=0;100>s;s++)t.add(new f(this.x,this.y,5*Math.random()-2.5,5*Math.random()-5,this.ks));for(let t=0;5>t;t++)s.ai.push(new at(this.x,this.y-2,3*Math.random()-1.5,3*Math.random()-1.5,"red"))}ut(t){this.ds>this.fs&&t.rect({pt:"white",rect:[this.x,this.y-1,this.fs/this.ds*8,1]}),X(this.x,this.y,this.zt,this.As).forEach(({c:s,r:i})=>t.rect({pt:s,rect:i})),this.ps&&this.ps.ut(t,{x:this.x,y:this.y,zt:this.zt})}};window.onload=()=>{let t=new r,s=new h(t.canvas),i=new class{constructor(){document.addEventListener("keyup",t=>this.yi(t)),document.addEventListener("keydown",t=>this.mi(t)),this.Mi={},this.gi=[13],this.di=[32],this.ci=[37,65],this.fi=[38,87],this.ui=[39,68],this.bi=[40,83]}li(t){return t.some(t=>this.Mi[t])||!1}mi(t){this.Mi[t.keyCode]=!0}yi(t){delete this.Mi[t.keyCode]}},e=new c,o=new S,n=new I({vs:t.canvas.width,ch:t.canvas.height}),a=new class{constructor(){this.Ci=new L,this.ki=!1,this.ji=!1,this.xi=0}vi(t,{ct:s,Qs:i,ai:e,ri:h,xs:o,map:n,background:r}){this.level=1===t?st:it[(t-1)%6](t),this.level.level=t,this.level.Ai=Object.entries(this.level.Qs).reduce((t,[s,i])=>t+i,0);const a=tt[Math.floor((t-1)/6)%2];n.si(t,a._s),r.As=a.background,s.fs=s.ds,s.x=this.level.qs[0],s.y=this.level.qs[1],e.ai=[],h.ri=[],o.xs=1===t?[new Y(146,90,(new j).create(m))]:[],i.initialize(this.level),this.Oi=0,this.Si=0,this.Fi=!1,this.xi+=this.level.Ai}lt({ct:t,Qs:s,ai:i,ri:e,xs:h,qt:o,map:n,background:r}){t.fs>0||(this.ji=!0),this.Si+=1,s.Qs.length>0||(this.Oi+=1),this.Oi===et&&o.vt(.2),this.Oi>et*(7+(1===this.level.level?3:0))&&(o.vt(1),this.vi(this.level.level+1,{ct:t,Qs:s,ai:i,ri:e,xs:h,map:n,background:r}));const a=this.Fi;this.Fi=1===this.level.level&&this.Oi>7*et,a!==this.Fi&&this.Ci.Ss(),[et,2*et,3*et,4*et].includes(this.Oi)&&o.play("message")}Pi(t){this.Oi>et&&t.rect({yt:!1,pt:"rgba(0,0,0,0.9)",rect:[36,49,88,60]}),this.Oi>2*et&&t.text({text:`level ${this.level.level} complete`,size:1,x:47-(10>this.level.level?0:2),y:59}),this.Oi>3*et&&t.text({text:`${this.xi} alien${1!==this.xi?"s":""} defeated`,size:1,x:47-(10>this.xi?0:2),y:74}),this.Oi>4*et&&(X(48,89,1,_,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),X(58,89,1,J,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),X(68,89,1,q,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),X(78,89,1,H,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),X(88,89,1,V,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),X(98,84,1,Q,{Bs:!0,big:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})));const s=(s,i=0)=>{t.gt({gt:[[s+i/2,90-i],[s+7+3*i,96+i]],wt:"red"}),t.gt({gt:[[s+7+3*i,90-i],[s+i/2,96+i]],wt:"red"})};this.Oi>5*et&&(0>(this.level.level-1)%6||s(48)),this.Oi>5.1*et&&(1>(this.level.level-1)%6||s(58)),this.Oi>5.2*et&&(2>(this.level.level-1)%6||s(68)),this.Oi>5.3*et&&(3>(this.level.level-1)%6||s(78)),this.Oi>5.4*et&&(4>(this.level.level-1)%6||s(88)),this.Oi>5.5*et&&(5>(this.level.level-1)%6||s(98,2))}ut(t){this.Pi(t),this.Fi&&(t.rect({yt:!1,pt:"#000",rect:[0,0,160,160]}),t.text({text:"Welcome",size:4,x:17,y:40}),t.text({text:"to space",size:4,x:19,y:70})),200>this.Si&&t.rect({yt:!1,pt:`rgba(0,0,0,${1-this.Si/200})`,rect:[0,0,160,160]});const s=et*(7+(1===this.level.level?3:0));this.Oi>s-50&&t.rect({yt:!1,pt:`rgba(0,0,0,${1-(s-this.Oi)/50})`,rect:[0,0,160,160]}),this.ji&&(t.rect({yt:!1,pt:"#000",rect:[31,26,98,31]}),t.text({text:"Game over",size:2,x:40,y:36}))}},l=new rt,u=new class{constructor(){}lt(t,s,i){t.ps&&(this.ps=t.ps.name),this.fs=t.fs,this.ds=t.ds,this.oi=t.oi,this.Ai=s.Ai+s.Qs.length,this.Hs=i}ut(t){this.oi||(this.ps&&t.text({text:this.ps,size:1,x:2,y:149}),X(145,147,1,this.Hs,{Bs:!0}).forEach(({c:s,r:i})=>t.rect({yt:!1,pt:s,rect:i})),t.text({text:""+this.Ai,size:1,x:152,y:149}),t.rect({yt:!1,pt:`rgb(${255*(1-this.fs/this.ds)}, ${this.fs/this.ds*255}, 0)`,rect:[2,156,this.fs/this.ds*160-4,2]}))}},f=new lt(10,10,350),d=new class{constructor(){this.Qs=[],this.zi=[],this.Ai=0}initialize({Js:t,Ai:s,Vs:i,Qs:e}){this.Js=t,this.Ai=s,this.Ii=()=>i[Math.floor(Math.random()*i.length)],this.zi=[],Object.entries(e).forEach(([t,s])=>{this.zi=this.zi.concat(Array(s).fill(t))});for(let s=0;t>s;s++)this.Qs.push(this.Ei())}Ei(){this.Ai-=1;const{type:t,fs:s,Ks:i,As:e,ps:h}=Z[this.zi.pop()],[o,n]=this.Ii();return"boss"===t?new yt(o,n,s,-1):new mt(o,n,s,-1,e,i,h)}lt({k:t,map:s,ws:i,ri:e,ai:h,ct:o,qt:n}){this.Qs.forEach(e=>{e.lt({k:t,map:s,ws:i,ct:o,qt:n})}),this.Qs=this.Qs.reduce((t,s)=>(s.fs>0?t.push(s):(s.wi({ri:e,ai:h,qt:n}),this.Js>=this.Qs.length&&this.Ai>0&&t.push(this.Ei())),t),[])}ut(t){this.Qs.forEach(s=>s.ut(t))}},p=new class{constructor(){this.ws=[]}add(t){this.ws.push(t)}lt(){this.ws.map(t=>t.lt()),this.ws=this.ws.filter(t=>!t.$t)}ut(t){this.ws.map(s=>s.ut(t))}},w=new class{constructor(){this.ri=[]}add(t){this.ri.push(t)}lt(){this.ri.length>1e3&&(this.ri=this.ri.slice(this.ri.length-1e3)),this.ri.forEach(t=>t.lt())}ut(t){this.ri.forEach(s=>s.ut(t))}},y={ai:[]},M=new class{constructor(){this.xs=[],this.Gt=0}lt(t,s){if(this.Gt+=1,!(this.Gt%500)&&1!==s){let s=Math.random()*t.ii,i=Math.random()*t.ei;for(;t.ss(s,i+1);)s=Math.random()*t.ii,i=Math.random()*t.ei;this.xs.push(new Y(s,i))}this.xs.forEach(t=>t.lt())}ut(t){this.xs.forEach(s=>s.ut(t))}};t.initialize(),a.vi(1,{ct:f,Qs:d,ai:y,ri:w,xs:M,map:l,background:n});let g=0,b=t=>{window.requestAnimationFrame(b),t-g&&(C(),k(),s.ft(),x().map(t=>t.ut(s)),g=t-0)},C=()=>{const{k:t}=s;a.lt({ct:f,Qs:d,ai:y,ri:w,xs:M,qt:e,map:l,background:n}),f.lt({k:t,ni:i,map:l,ws:p,qt:e,ai:y,ri:w}),d.lt({k:t,map:l,ws:p,ri:w,ai:y,ct:f,qt:e}),t.lt({ct:f,map:l}),p.lt(),w.lt(),y.ai.length>1e3&&(y.ai=y.ai.slice(y.ai.length-1e3)),y.ai.forEach(t=>t.lt()),u.lt(f,d,a.level.Hs),M.lt(l,a.level.level)},k=()=>{p.ws.filter(t=>!t.Kt).forEach(t=>{l.ss(t.x,t.y)&&t.Ut(),d.Qs.concat([f]).forEach(s=>{o.Cs(t,s,w)})}),w.ri.concat(y.ai).forEach(t=>{l.ss(t.x,t.y)&&t.Pt()}),M.xs.forEach(t=>{l.ss(t.x,t.y+t.size)&&(t.Fs=!0),d.Qs.concat([f]).forEach(s=>{o.js(t,s,M)})})},x=()=>[n,l,d,f,M,p,w,...y.ai,u,a];document.querySelector("div").className+=" loaded",b()}}]);